<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
  </head>
  <body>
    <script type="module">
      import init, { add, start } from './pkg/webgl_with_bindgen.js';

      async function run() {
        await init();

        const result = add(1, 2);
        start();
        console.log("All is good");
        if (result !== 3) {
          throw new Error("wasm addition doesn't work!");
        }
      }

      run();
    </script>
    <canvas id="canvas" height="150" width="150"></canvas>
  </body>
</html>
